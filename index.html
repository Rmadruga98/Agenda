<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Agendamento - Barbearia Madruga</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1c1c1c">
  <link rel="icon" href="logo.png">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">

  <!-- LOGO -->
  <div class="logo-wrapper">
    <img src="logo.png" alt="Logo da Barbearia Madruga" class="logo">
  </div>

  <h1> Agendamento Online ğŸ’ˆ</h1>

  <!-- BOTÃƒO INSTALAR -->
  <button id="btnInstalar" class="btn-instalar" aria-label="Instalar aplicativo">
    ğŸ“² Instalar aplicativo
  </button>

  <h3 class="barber-nome">Barber Madruga</h3>
  <p class="barbeiro-nome">Barbeiro Ricardo</p>

  <!-- FORMULÃRIO -->
  <form id="formAgendamento" novalidate>

    <label for="nome">Nome:</label>
    <input 
      id="nome" 
      name="nome" 
      type="text" 
      required 
      placeholder="Digite seu nome" 
      minlength="2"
    >

    <label for="telefone">WhatsApp:</label>
    <input 
      id="telefone" 
      name="telefone" 
      type="tel" 
      required 
      placeholder="11999999999" 
      pattern="[0-9]{11}"
    >

    <label for="data">Data:</label>
    <input 
      type="date" 
      id="data" 
      name="data" 
      required
    >

    <label>HorÃ¡rio:</label>
    <div id="horarios" class="horarios"></div>
    <input type="hidden" id="hora" name="hora">

    <label for="servico">ServiÃ§o:</label>
    <select id="servico" name="servico" required>
      <option disabled selected>Selecione</option>
      <option>Corte Simples</option>
      <option>Corte DegradÃª</option>
      <option>Corte Navalhado</option>
      <option>Barba</option>
      <option>Corte + Barba</option>
      <option>Sobrancelha</option>
      <option>Pezinho</option>
      <option>Corte + Barba + Sobrancelha</option>
      <option>PigmentaÃ§Ã£o + Corte</option>
      <option>Luzes + Corte</option>
      <option>Platinado + Corte</option>
    </select>

    <label for="preco">PreÃ§o:</label>
    <input id="preco" name="preco" readonly>

    <button type="submit">Agendar</button>

<button type="button" id="btnMeusAgendamentos">
  ğŸ“‹ Ver meus agendamentos
</button>

<div id="areaMeusAgendamentos" style="display:none;">
  <input type="tel" id="telefoneConsulta" placeholder="Digite seu WhatsApp">

<input type="number" id="codigoConsulta"
         placeholder="Digite o cÃ³digo de cancelamento">
         
  <button type="button" id="btnConsultarAgendamentos">Consultar</button>

  <ul id="listaMeusAgendamentos"></ul>
</div>

  </form>

<!-- BOTÃƒO ADMIN -->
<button id="btnAdmin" style="display:none;">
  ğŸ”’ Ãrea do Administrador
</button>

<!-- LOGIN ADMIN -->
<div id="areaLoginAdmin" style="display:none;">

  <h2>ğŸ” Login Administrador</h2>

  <input type="email" id="emailAdmin" placeholder="Email">
  <input type="password" id="senhaAdmin" placeholder="Senha">

  <button type="button" id="btnLoginAdmin">
    Entrar
  </button>

</div>

<!-- ÃREA ADMIN -->
<div id="areaAdmin" style="display:none;">
    
    <h2>ğŸ“Š Dashboard</h2>

<div class="dashboard-cards">
  <div class="card">
    <h3>ğŸ“… Agendamentos Hoje</h3>
    <p id="qtdHoje">0</p>
  </div>

  <div class="card">
    <h3>ğŸ’° Faturamento Hoje</h3>
    <p id="faturamentoHoje">R$ 0</p>
  </div>

  <div class="card">
    <h3>â° PrÃ³ximo Cliente</h3>
    <p id="proximoCliente">Nenhum</p>
  </div>
</div>

    <h2>ğŸ“‹ Agenda Ativa</h2>
    <ul id="listaAgendamentos"></ul>
    

    <h2>ğŸ“š HistÃ³rico</h2>
    <ul id="listaHistorico"></ul>
    
    <button id="btnLimparHistorico">ğŸ§¹ Apagar histÃ³rico</button>

    <h2>ğŸ“… Controle de Dias</h2>

    <h3>ğŸ“… Dias bloqueados</h3>
    <ul id="listaDiasBloqueados"></ul>

    <hr style="margin:20px 0">

    <label for="dataBloqueio">Selecione a data para bloqueio:</label>
    <input type="date" id="dataBloqueio">

    <button id="btnBloquearDia">ğŸ”’ Bloquear Dia</button>
    
    <button id="btnRelatorioDiario">ğŸ“Š Enviar relatÃ³rio do dia</button>

    <button id="btnSairAdmin">âŒ Sair</button>

  </div>

  <footer class="rodape">
    Â© 2026 â€¢ Barber Madruga
  </footer>

</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script src="firebase.js"></script>
<script src="script.js"></script>

<!-- SERVICE WORKER -->
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./service-worker.js");
}
</script>

</body>
</html>